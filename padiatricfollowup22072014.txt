<htmlform>

<!--
Pediatric Followup Form
==============================================================
Javascript helper functions taken from the HTML Form Entry Javascript Reference at 
https://wiki.openmrs.org/display/docs/HTML+Form+Entry+JavaScript+Reference 
==============================================================
-->

<script type="text/javascript">

        function isBlank(listValueString,numListElements,allBlank) {
                var numCheck = 1;
                if (allBlank) {numCheck = numListElements};
                var thisListValueString = listValueString;
                if (numListElements > 1) {
                    thisListValueString = thisListValueString + "_1";
                };
                var i = 1;
                while (numCheck >= i) {
                         if (getValue(thisListValueString) != '' ) {
                            return false;
                         };
                         i++;
                         thisListValueString = listValueString + "_" + i;
                };
                return true;                      
        };

        function removeBlanks(startRow,numberRows,listValueString,numListElements,allBlank) {
                //
                //function shuffles all non-blank rows from array item start to start+number-1 to the beginning
                // startRow is the first row in the array 
                // numberRows is the number of rows in this block
                // numListElements is the number of elements in each row
                // if numListElements is more than one allBlank TRUE means to ensure all elements are blank otherwise checks just the first
                //
           
                var i = startRow;
                var nonBlankCount = 0;
                var lastRow = startRow +numberRows - 1;
                var baseListValueString = listValueString;
                if (numListElements > 1) {
                    baseListValueString = baseListValueString + "_1";
                };

                while (lastRow >= i) {
        	      
                      // keep going if nonblank 
                      if (!isBlank((i+listValueString),numListElements,allBlank)) {
                          i++;
                          nonBlankCount ++;
                      } else {
                          // found blank line, find next non-blank 
                             var j = i + 1;
                             while ((lastRow >= j) &amp;&amp; (isBlank((j+listValueString),numListElements,allBlank))) {
                                   j++;
                             };
                             // if we have found a nonblank, move the nonblanks down
                             var newStart = j;
                             while (!isBlank((j+listValueString),numListElements,allBlank) &amp;&amp; (lastRow >= j)) {
                                 //move all of the elements in this row
                                 for (k=1; numListElements >=k; k++) {
                                       var thisListElement = listValueString + "_" + k;
                                       if ( (k==1) &amp;&amp; (numListElements == 1) ) {
                                             thisListElement = listValueString;
                                       };
                                       var moveValuestring = getValue(j + thisListElement);
                                       setValue(i + thisListElement, moveValuestring);
                                       setValue(j + thisListElement,'');
                                 };
                                 nonBlankCount++;
                                 i++;
                                 j++;                               
                             };   
                             if (j > lastRow) {
                                i = j;
                             };                            
                      };                
                };
                return nonBlankCount;
        };   //end function       

        function displayRows(countConcept,countConceptValue,startRow) {
                //
                // find the count of the number of surgeries that exist
                //		
		var addedCount = $j(countConcept).html(); 
                var regex = /(&lt;([^>]+)>)/ig;
		if (addedCount != null){
     		    var addedInt = addedCount.replace(regex, "");
		    addedCount = Number(addedInt);
		};
                //set to the first if there are none added so far
		if (addedCount == null || addedCount == '' || addedCount== 0){
                        // if we are in edit mode need to get count a different way
                        addedCount = getValue(countConceptValue);
                        if (addedCount == 0) {
                            addedCount = 1;
                        };
		};
                // make sure all of the ones we have display	
		for(i=1; addedCount>=i; i++){
                        var rowNumber = startRow + i - 1;
			var dynString = "#" + rowNumber + "-toggleContainer";
			$j(dynString).show();
		};

                //
                // click for the number of entries that exist so that they show up
                //
		for(i=1; addedCount>i; i++){
	              rowNumber = startRow + i - 1;		
                      dynString = "#" + rowNumber + "-addEntry";
		      $j(dynString).click();				
		};
       }

	if(jQuery){

		$j(document).ready(function(){
                                //don't need an add button on the 44 entry because they can only add 44
				$j('#44-addEntry').remove();
                                $j('#1-removeEntry').remove();

                               //don't need a button on 54 surgeries because they can only add 10
				$j('#54-addEntry').remove();
  $j('#45-removeEntry').remove();

                               //This one is for referrals
  $j('#101-removeEntry').remove();
				$j('#110-addEntry').remove();


  $j('#201-removeEntry').remove();
				$j('#210-addEntry').remove();

  $j('#401-removeEntry').remove();
				$j('#410-addEntry').remove();

  $j('#301-removeEntry').remove();
				$j('#310-addEntry').remove();

  $j('#501-removeEntry').remove();
				$j('#510-addEntry').remove();



                               });



$j(document).ready(function(){
  $j('button.addEntry').live("click", function(){

    var rowNumber = parseFloat(this.id);

    var listValueString = '-list.value';
    if (rowNumber > 44) {
        listValueString = '-list.value_1';
    }

 valuestring = parseFloat(this.id) + listValueString;
                                        //the second element of this or fails so if it makes it through the first 
                                        //the form crashes - left it here in case there's a case where this is nec
					if (getValue(valuestring) != '' ){
			     var correctedAddButtonId = parseFloat(this.id) + 1;

                                            // determine the right count to update
                                          if ((this.id > 500)) {
                                                valuestring = 'addedRadCount.value';
                                            } else if ((this.id > 400)) {
                                                valuestring = 'addedDiagCount.value';
                                            } else if ((this.id > 300)) {
                                                valuestring = 'addedUsCount.value';
                                            } else if (this.id > 200) {
 valuestring='addedLabsCount.value';
} else if ((this.id > 100)) {
                                                valuestring = 'addedReferralsCount.value';
                                            } else if (this.id > 44) {
                                                valuestring = 'addedSurgeryCount.value';
                                            } else {
                                                valuestring = 'addedDiagnosisCount.value';
                                            };

                                            //once we have the right count string, get the current count and increment if we have added
                                            var currentCount = getValue(valuestring);
                                            if (correctedAddButtonId>currentCount){
                                                currentCount = correctedAddButtonId;
                                                setValue(valuestring, currentCount);
                                            };

                                             // turn on the next button, toggle off the previous and turn on the remove button on this one 
				     	     var contentAddId = "#" + correctedAddButtonId + "-toggleContainer";
					     $j(contentAddId).toggle(true);
					     $j('#' + this.id).toggle(false);
                                             $j('#' + parseFloat(this.id) + '-removeEntry').toggle(false);
					}

                                        return false;
  });
});

                      	$j(document).ready(function(){
				$j('button.removeEntry').live("click", function(){
					var correctedRemoveButtonId = parseFloat(this.id) - 1;

                                        // update the right count - 1 - 44 reportable diagnoses 45 -54 surgery

                                           if (correctedRemoveButtonId > 500) {
                                           setValue('addedRadCount.value', Number(getValue('addedRadCount.value')) -1);

                                        }  else   if (correctedRemoveButtonId > 400) {
                                           setValue('addedDiagCount.value', Number(getValue('addedDiagCount.value')) -1);

                                        }  else   if (correctedRemoveButtonId > 300) {
                                           setValue('addedUsCount.value', Number(getValue('addedUsCount.value')) -1);

                                        } else   if (correctedRemoveButtonId > 200) {
                                           setValue('addedLabsCount.value', Number(getValue('addedLabsCount.value')) -1);

                                        } else  if (correctedRemoveButtonId > 100) {
                                           setValue('addedReferralsCount.value', Number(getValue('addedReferralsCount.value')) -1);

                                        } else if (correctedRemoveButtonId > 44) {
                                             setValue('addedSurgeryCount.value', Number(getValue('addedSurgeryCount.value')) - 1);

                                        } else {
                                          setValue('addedDiagnosisCount.value', Number(getValue('addedDiagnosisCount.value')) - 1);
                                        };
					var contentAddId = "#" + parseFloat(this.id) + "-toggleContainer";
					$j(contentAddId).toggle(false);
					$j( ':input:not(:button)', contentAddId).val([]);

					     $j('#' + correctedRemoveButtonId + '-addEntry').toggle(true); 
                                        $j('#' + correctedRemoveButtonId + '-removeEntry').toggle(true);
					return false;
					});
				});
        beforeSubmit.push(function(){

            var dateStr;
            var now;
            var then;

            dateStr = getValue("nextappointmentdate.value");

            if (dateStr == null || dateStr == "")
                return true;

            now = new Date();
            then = new Date(getValue("nextappointmentdate.value"));

            if (now > then) {
                alert("The next scheduled appointment cannot be past today.");
                return false;
            }

            return true;
        });
function isEmptyField(id)
	{
		var value=getValue(id+".value");
		if (value=='' || value==null)
			return true;
		return false;
	}
	function fieldHasValue(id,testValue)
	{
		var value=getValue(id+".value");
		if (value==testValue)
			return true;
		return false;
	}

	beforeSubmit.push(function()
	{
		if (fieldHasValue("PC_symptomatic",5006))
		{
			if(isEmptyField("PC_chiefComplaint")==false)
			{
				alert ("You have selected 'Feeling Well' under Presenting Complaint, but also chose a Complaint");
				return false;
			}
		}
		if (fieldHasValue("PC_symptomatic",1068))
		{
			if(isEmptyField("PC_chiefComplaint"))
			{
				alert ("You have selected 'Having Symptoms' under Presenting Complaint, but have not chosen a Complaint");
				return false;
			}
		}
		if (isEmptyField("GENERAL_weightGain")==false) 
		{
			if(isEmptyField("GENERAL_weightLoss")==false)
			{
				alert ("You cannot select both weight gain and weight loss.");
				return false;		
			}
		}
		if (isEmptyField("GENERAL_hivStatus"))
		{
			alert ("HIV Status cannot be null. Please enter a value to proceed.");
			return false;	
		}
		if (isEmptyField("GENERAL_hivStatus_mother"))
		{
			alert ("Mother's HIV Status cannot be null. Please enter a value to proceed.");
			return false;	
		}
		if (isEmptyField("TB_suspicion"))
		{
			alert ("TB Status cannot be null. Please enter a value to proceed.");
			return false;	
		}
		
		// remove blank lines on submit
        // it also resets the number of rows to only nonblanks
		setValue('addedDiagnosisCount.value', removeBlanks(1,44,"-list.value",1,false));
        setValue('addedSurgeryCount.value', removeBlanks(45,10,"-list.value",2,false));
        setValue('addedReferralsCount.value', removeBlanks(101,10,"-list.value",2,false));
        setValue('addedLabsCount.value', removeBlanks(201,10,"-list.value",1,false));
        setValue('addedDiagCount.value', removeBlanks(401,10,"-list.value",1,false));
        setValue('addedRadCount.value', removeBlanks(501,10,"-list.value",1,false));
        setValue('addedUsCount.value', removeBlanks(301,10,"-list.value",1,false));
        return true;
	});
     
	

		$j(document).ready(function(){
				if ( $j.browser.msie ) {
				$j(":checkbox").click(function(){
					$j(this).change();
					});
				}
				$j(".enableDisable").each(function(){
					var group = $j(this);
					function disableFn(){
					group.children("#disabled").fadeTo(250,0.33);
					group.children("#disabled").find(":checkbox").attr("checked",false); //uncheck
					group.children("#disabled").find("input[type$='text']").val("");
					group.children("#disabled").find("textarea").val("");
					group.children("#disabled").find("select").val(0);
					group.children("#disabled").find("input").attr("disabled",true);  //disable
					group.children("#disabled").find("textarea").attr("disabled",true);
					group.children("#disabled").find("select").attr("disabled",true);
					}
					function enableFn(){
					group.children("#disabled").fadeTo(250,1);
					group.children("#disabled").find("input").attr("disabled",false);
					group.children("#disabled").find("select").attr("disabled",false);
					group.children("#disabled").find("textarea").attr("disabled",false);
					}
                                               <ifMode mode="ENTER" include="true">
						disableFn();
                                                </ifMode>

					$j(this).children("#trigger").find(":checkbox:first").change(function(){
						var checked = $j(this).attr("checked");
						if(checked == true){
						enableFn();
						}else{
                                                disableFn();
						}
						});
				});

				$j(".checkboxGroup").each(function(){
						var group = $j(this);
						var uncheckAll = function(){
						group.find("input[type$='checkbox']").attr("checked",false);
						group.find("input[type$='checkbox']").change();
						}
						var uncheckRadioAndAll = function(){
						group.find("#checkboxAll,#checkboxRadio").find("input[type$='checkbox']").attr("checked",false);
						group.find("#checkboxAll,#checkboxRadio").find("input[type$='checkbox']").change();
						}

						group.find("#checkboxAll").find("input").click(
							function(){
							var flip;
							var checked = $j(this).siblings(":checkbox:first").attr("checked");
							if($j(this).attr("name") == $j(this).parents("#checkboxAll:first").find(":checkbox:first").attr("name")){
							checked = $j(this).attr("checked");
							flip = checked;
							}else{
							flip = !checked;
							}
							if($j(this).attr("type") == "text") if(flip == false) flip = !flip; // this is so the user doesn't go to check the checkbox, then uncheck it when they 
							uncheckAll();
							$j(this).parents("#checkboxAll:first").find(":checkbox").attr("checked",flip);
							$j(this).parents("#checkboxAll:first").find(":checkbox").change();
							}
							);

						group.find("#checkboxRadio").find("input[type$='checkbox']").click(function(){
								uncheckAll();
								$j(this).siblings("input[type$='checkbox']").attr("checked",false);
								$j(this).attr("checked",true);
								$j(this).change();
								});

						group.find("#checkboxCheckbox").click(
								function(){
								uncheckRadioAndAll();
								}
								);
				});
		});
	}

</script>

<script type="text/javascript">
	function openGrowthChart() {
		var id ="<lookup expression="patient.patientId"/>";
		window.open('../growthchart/growthChart.htm?patientId=' + id, 'summaryWindow', 'toolbar=no,width=660,height=600,resizable=yes,scrollbars=yes').focus();
	}
</script>




	<macros>
	paperFormId = (Fill this in)
	headerColor =#009d8e
	fontOnHeaderColor = white
	</macros>

	<style>
		.section {
			border: 1px solid $headerColor;
			padding: 2px;
			text-align: left;
			margin-bottom: 1em;
		}
		.sectionHeader {
			background-color: $headerColor;
			color: $fontOnHeaderColor;
			display: block;
			padding: 2px;
			font-weight: bold;
		}

		.labelCol {	
			vertical-align: top;
			font-weight: bold;	
		}

		.secondary {
			padding-left: 10px;
		}
		.baseline-aligned td.label {
			text-align: right;
		}
		.right {
			float: right;
		}
		.karnofsky tr{
			width: 100%;
		}
		.karnofsky td{
			width: 50%;
		}
		.inner-table {
			width: 100%
		}
		.checkboxGroup {
			width: 100%;
		}
		#two-wide {
			width: 100%;
		}
		#two-wide tr {
			width: 100%;
		}
		#two-wide td {
			padding-left: 5px;
			padding-bottom: 5px;
			width: 50%;
			vertical-align: top;
			border: 1px solid $headerColor;
		}
		#two-wide td.enableDisable {
			border: none;
			width: auto;
			padding-right: 2px;
		}
		#two-wide td.nested-td {
			border: none;
			width: auto;
			padding-right: 2px;
		}
		#two-wide td.nested-label {
			border: none;
			width: auto;
			padding-right: 2px;
			text-align: right;
		}
		#three-wide {
			width: 100%
		}
		#three-wide tr {
			width: 100%;
		}
		#three-wide td {
			padding-left: 5px;
			width: 33%;
			vertical-align: top;
			border: 1px solid $headerColor;
		}

	</style>

	<span style="float:right">Paper Form ID: $paperFormId</span>
	<h2>Pediatric Followup Form (v1.0)</h2>

	<section headerLabel="Contents">
<ol>
	<li><a href="#S0"> Encounter Details </a> </li>
	<li><a href="#S2"> Presenting Complaint </a> </li>
	<li><a href="#tb_hiv"> TB and HIV </a> </li>
	<li><a href="#S3"> Review of Systems </a> </li>
	<li><a href="#S5"> Current Medications </a> </li>
	<li><a href="#S6"> Vaccinations </a> </li>
	<li><a href="#S9"> Physical Exam </a> </li>
	<li><a href="#TestResults"> External Test Results </a></li>
	<li><a href="#Referrals"> Referrals </a></li>
	<li><a href="#S11"> Impressions </a> </li>
</ol>
</section>

	<span id="S0">
	<section headerLabel="Encounter Details">
	<table class="baseline-aligned">
		<tr>
			<td>Date:</td>
			<td><encounterDate default="today"/></td>
		</tr>
		<tr>
			<td>Location:</td>
			<td><encounterLocation  default="UserProperty:defaultLocation"/></td>
		</tr>
		<tr>
			<td>Provider:</td>
			<td><encounterProvider default="currentUser"/></td>
		</tr>
	</table>
	</section>
</span>

	<span id="S2">
	<section headerLabel="Presenting Complaint">
	<table>
		<tr>
			<td style="padding-left:5px; padding-top:10px;">
				<obs field="PC_symptomatic" id="PC_symptomatic" conceptId="5219" answerConceptIds="5006,1068" answerLabels="Feeling well,Having symptoms" style="radio"/>
				<br/>
				Chief Complaint: <obs field="PC_chiefComplaint" id="PC_chiefComplaint" conceptId="5219" answerClasses="Chief Complaint" />
				<br/>

				Comments: 
				<div class="secondary"><obs field="PC_comments" id="PC_comments" conceptId="161011" style="textarea" rows="8" cols="75"/></div>
			</td>
		</tr>
	</table>
	</section>
</span>

<span id="tb_hiv">
	<section headerLabel="TB and HIV">
		<table id="two-wide">
			<tr>
				<td style="width:50%;">
					<h4>HIV status:</h4>
					<table class="inner-table">
						<tr>
							<td class="nested-td">
								<obs field="GENERAL_hivStatus" id="GENERAL_hivStatus" conceptId="1169" labelText="HIV status: "  answerConceptIds="703,664,1067" answerLabels="Positive,Negative,Unknown"/>
							</td>
						</tr>
						<tr>
							<td class="nested-td">
								<obs field="GENERAL_hivStatus_mother" id="GENERAL_hivStatus_mother" conceptId="1396" labelText="Mother's HIV status: " answerConceptIds="703,664,1067" answerLabels="Positive,Negative,Unknown"/>
							</td>
						</tr>
					</table>
				</td>
				<td>
					<h4>Tuberculosis Status:</h4>
					<table class="checkboxGroup">
						<tr> 
							<td class="nested-td">
								TB Status:<obs field="TB_suspicion" id="TB_suspicion" conceptId="1659" answerConceptIds="1660,142177,1661" answerLabels="No signs or symptoms,Disease suspected,Disease diagnosed" style="dropdown"/>
							</td>
						</tr>
						<tr>
							<td class="nested-td">
								Treatment status: <obs field="TB_status" conceptId="1659" answerConceptIds="1663,1662,1107,160332,160330" answerLabels="Treatment completed,Treatment in progress,No treatment, Failed first treatment, Failed second treatment" style="dropdown"/>
							</td>
							<td class="nested-td">
								<obs field="TB_treatmentyear" id="TB_treatmentyear"  conceptId="161011" labelText="Details:"/>
							</td>
						</tr>
						<tr>
							<td class="nested-td">
								<obs field="TB_contact" conceptId="124068" answerConceptId="1065" style="checkbox" answerLabel="Tuberculosis contact in household"/> 
							</td>
						</tr>
						<tr>
							<td class="nested-td">
								<div class="enableDisable">
									<div id="trigger">
										<obs field="TB_pc" conceptId="1628" answerConceptId="5957" answerLabel="Productive cough" style="checkbox"/> 
									</div>
									<div id="disabled" class="secondary">
										<obs field="TB_hemo" conceptId="1628" answerConceptId="138905" answerLabel="Hemoptysis" style="checkbox"/> 
										<br/>
										<obs field="TB_sputum" conceptId="1628" answerConceptId="125998" answerLabel="Sputum" style="checkbox"/> 
									</div> 
								</div>
							</td>
							<td class="nested-td">
								<obs field="TB_chronic" conceptId="1628" answerConceptId="145455" answerLabel="Chronic cough (longer than 3 weeks)" style="checkbox"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</section>
</span>

<span id="S3">
	<section headerLabel="Review of Systems">
	<table id="two-wide">
		<tr>
			<td>
			<h4>General: </h4>
			<table class="checkboxGroup">
				<tr id="checkboxAll">
					<td class="nested-td">
						<obs field="G_nc" conceptId="1069" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
					</td>
				</tr>
				<tr id="checkboxCheckbox">

					<td class="nested-td">
						<obs field="G_fever" conceptId="1069" answerConceptId="140238" answerLabel="Fever" style="checkbox"/>
					</td>

					<td class="nested-td">
						<obs field="G_night" conceptId="1069" answerConceptId="6029" answerLabel="Night sweats" style="checkbox"/>
					</td>
				</tr>
				<tr id="checkboxCheckbox">
					<td class="nested-td">
						<obs field="G_rash" conceptId="1069" answerConceptId="512" answerLabel="Rash" style="checkbox"/>
					</td>
					<td class="nested-td">
						<obs field="G_fatigue" conceptId="1069" answerConceptId="140501" answerLabel="Fatigue" style="checkbox"/>
					</td>
					<td class="nested-td">
						<obs field="G_delayed" conceptId="1069" answerConceptId="6022" answerLabel="Delayed milestones" style="checkbox"/>
					</td>
				</tr>
				<tr id="checkboxCheckbox">
					<td class="nested-td">
						<obs field="G_irr" conceptId="1069" answerConceptId="6023" answerLabel="Irritability" style="checkbox"/>
					</td>
					<td class="nested-td">
						<obs field="G_mca" conceptId="1069" answerConceptId="81" answerLabel="Major congenital abnormality" style="checkbox"/>
					</td>
					<td class="nested-td">
						<obs field="G_som" conceptId="1069" answerConceptId="160753" answerLabel="Somnolent" style="checkbox"/>
					</td>
				</tr>
			</table>
			<table class="checkboxGroup">
				<tr>
<td class="nested-td">

							<div class="enableDisable">
								<div id="trigger">
									<obs field="GENERAL_weightGain" id="GENERAL_weightGain" conceptId="1069" answerConceptId="122887" answerLabel="Weight gain" style="checkbox"/> Weight Gain
								</div>
								<div id="disabled" class="secondary">

									Details: <obs field="WG_1" id="WG_1" conceptId="161011" />
								</div>
							</div>
						</td>
</tr>
<tr class="checkboxGroup">
						<td class="nested-td">

							<div class="enableDisable">
								<div id="trigger">
									<span id="checkboxCheckbox"><obs field="GENERAL_weightLoss" id="GENERAL_weightLoss" conceptId="1628" answerConceptId="832" answerLabel="Weight loss" style="checkbox"/></span>
								</div>
								<div id="disabled" class="secondary">
									Details: <obs field="WL_1" id="WL_1" conceptId="161011" /><br/>
<obs field="WL_2" conceptId="1858" answerConceptIds="5332,5333" answerLabels="Weight loss 10% or more,Weight loss less than 10%" style="radio" />
								</div>
							</div>
						</td>

					</tr>
				<tr>
						<obsgroup groupingConceptId="160651">
						<td class="enableDisable" colspan="2">
							<div id="trigger">
								<obs field="G_retd" conceptId="1078" answerConceptId="6017" answerLabel="Refusal to feed" style="checkbox"/>
							</div>
							<div id="disabled" class="secondary">
								<span class="duration">
									Duration: <obs field="G_retdd" conceptId="1731"/><obs field="G_retddu" conceptId="1732" answerConceptIds="1822,1072,1073,1074" answerLabels="Hours,Days,Weeks,Months" defaultValue="1072"/>
								</span>
							</div>
						</td>
						</obsgroup>
				</tr>
			</table>
			<br/>
			Comments: 
			<div class="secondary"><obs field="G_comments" id="G_comments" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
		</td>
			<td class="checkboxGroup">
				<h4>HEENT: </h4>
				<table class="checkboxGroup">
					<tr id="checkboxAll">
						<td class="nested-td">
							<obs field="HEENT_noComplaints" conceptId="1070" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
                                                <td class="nested-td">
							<obs field="HEENT_vd" conceptId="1070" answerConceptId="5953" answerLabel="Vision difficulties" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="HEENT_hd" conceptId="1070" answerConceptId="861" answerLabel="Hearing difficulties" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="HEENT_oto" conceptId="1070" answerConceptId="873" answerLabel="Otorrhea" style="checkbox"/>
						</td>
                                                </tr>
                                                <tr id="checkboxCheckbox">
                                    		<td class="nested-td">
							<obs field="HEENT_rhino" conceptId="1070" answerConceptId="115403" answerLabel="Rhinorrhea" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="HEENT_sd" conceptId="1070" answerConceptId="5954" answerLabel="Swallowing difficulties" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="HEENT_os" conceptId="1070" answerConceptId="5244" answerLabel="Oral Sores" style="checkbox"/>
						</td> 
                                                </tr>
                                                <tr id="checkboxCheckbox">
                                    		<td class="nested-td">
							<obs field="HEENT_oc" conceptId="1070" answerConceptId="5334" answerLabel="Oral Candidiasis" style="checkbox"/>
						</td>
                                    		<td class="nested-td">
							<obs field="HEENT_oc" conceptId="1070" answerConceptId="141584" answerLabel="Earache" style="checkbox"/>
						</td>
					</tr>
			</table>
			<br/>
			Comments: 
			<div class="secondary"><obs field="HEENT_comments" id="HEENT_comments" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
		</td>
	</tr>
	<tr>
			<td class="checkboxGroup">
				<h4>Gastrointestinal: </h4>
				<table class="checkboxGroup">
					<tr id="checkboxAll">
						<td class="nested-td">
							<obs field="GI_noComplaints" conceptId="1078" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
  					        <td class="nested-td">
							<obs field="GI_abdominal" conceptId="1078" answerConceptId="151" answerLabel="Abdominal pain" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="GI_appetite" conceptId="1078" answerConceptId="6031" answerLabel="Poor appetite" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="GI_jaundice" conceptId="1078" answerConceptId="5986" answerLabel="Hx of jaundice" style="checkbox"/>
						</td>
					</tr>

					<tr id="checkboxCheckbox">
						<obsgroup groupingConceptId="5978">
						<td class="enableDisable">
							<div id="trigger">	
								<obs field="GI_nausea" conceptId="1078" answerConceptId="5978" answerLabel="Nausea" style="checkbox"/>
							</div>
							<div id="disabled" class="secondary">
								<span class="duration">
									Duration: <obs field="GI_nauseaDuration" conceptId="1731"/><obs field="GI_nauseaDurationUnits" conceptId="5979"/>
								</span>
							</div>
						</td>
						</obsgroup>
						<obsgroup groupingConceptId="122983">
						<td class="enableDisable">
							<div id="trigger">
								<obs field="GI_vomiting" conceptId="1078" answerConceptId="122983" answerLabel="Vomiting" style="checkbox"/>
							</div>
							<div id="disabled" class="secondary">
								<span class="duration">
									Duration: <obs field="GI_vomitingDuration" conceptId="1731"/><obs field="GI_vomitingDurationUnits" conceptId="5981" />
								</span>
							</div>
						</td>
						</obsgroup>
					</tr>
					<tr>
						<obsgroup groupingConceptId="142412">
						<td class="enableDisable">
							<div id="trigger">
								<obs id="GI_diarrhea" field="GI_diarrhea" conceptId="1078" answerConceptId="142412" answerLabel="Diarrhea" style="checkbox"/>
							</div>
							<div id="disabled" class="secondary">
								<span class="duration">
									Duration: <obs field="GI_diarrheaDuration" conceptId="1731"/><obs field="GI_diarrheaDurationUnits" conceptId="5984" answerConceptIds="1072,1073,1074" answerLabels="Days,Weeks,Months" defaultValue="1072"/>
								</span>
							</div>
						</td>
						</obsgroup>
						<obsgroup groupingConceptId="996">
						<td class="enableDisable">
							<div id="trigger">
								<obs field="GI_constipation" conceptId="1078" answerConceptId="996" answerLabel="Constipation" style="checkbox"/>
							</div>
							<div id="disabled" class="secondary">
								<span class="duration">
									Duration: <obs field="GI_constipationDuration" conceptId="1731"/><obs field="GI_constipationDurationUnits" conceptId="1732" answerConceptIds="1072,1073,1074,1734" />
								</span>
							</div>
						</td>
						</obsgroup>
					</tr>
				</table>
				<br/>
				Comments: 
				<div class="secondary"><obs field="GI_comments" id="GI_comments" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
			</td>
<td>
				<h4>Genitourinary: </h4>
				<table class="checkboxGroup">
					<tr id="checkboxAll">
						<td class="nested-td">
							<obs field="GU_nc" conceptId="1080" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
						</td>
					</tr>

					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="GU_nc" conceptId="1080" answerConceptId="118771" answerLabel="Dysuria" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="GU_he" conceptId="1080" answerConceptId="840" answerLabel="Hematuria" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="GU_oli" conceptId="1080" answerConceptId="132418" answerLabel="Oliguria" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="GU_hou" conceptId="1080" answerConceptId="127783" answerLabel="History of UTI" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="GU_ren" conceptId="1080" answerConceptId="6033" answerLabel="Renal disease" style="checkbox"/>
						</td>
						<includeIf velocityTest="$patient.gender == 'F' ">
						<obsgroup groupingConceptId="160620">
						<td class="nested-td">
							<div class="enableDisable">
								<div id="trigger">
									<obs field="GU_vd" conceptId="1080" answerConceptId="5993" answerLabel="Vaginal Discharge" style="checkbox"/>
								</div>
								<div class="secondary" id="disabled">
									Duration: <obs field="GU_vdd" conceptId="1731"/><obs field="GU_vdu" conceptId="1732" answerConceptIds="1822,1072,1073,1074" answerLabels="Hours,Days,Weeks,Months" defaultValue="1072"/>
								</div>
							</div>
						</td>
						</obsgroup>
						</includeIf>
						<includeIf velocityTest="$patient.gender == 'M' ">
						<obsgroup groupingConceptId="160653">
						<td class="nested-td">
							<obs field="GU_circumcised" conceptId="1080" answerConceptId="145096" answerLabel="Circumcised" style="checkbox"/><br/>

							<div class="enableDisable">
								<div id="trigger">
									<obs field="GU_ud" conceptId="1080" answerConceptId="123529" answerLabel="Urethral Discharge" style="checkbox"/>
								</div>
								<div class="secondary" id="disabled">
									<span class="duration">
										Duration: <obs field="GU_udd" conceptId="1731"/><obs field="GU_udu" conceptId="1732" answerConceptIds="1822,1072,1073,1074" answerLabels="Hours,Days,Weeks,Months" defaultValue="1072"/>
									</span>
								</div>
							</div>
						</td>
						</obsgroup>
						</includeIf>
					</tr>


<tr>
<td class="nested-td"> 
<obs field="GU_sores" answerLabel="Genital Sores" answerConceptId="864" conceptId="1080" style="checkbox"/>
</td></tr>


				</table>
				<br/>
				Comments: 
				<div class="secondary"><obs field="GU_comments" id="GU_comments" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
			</td>
</tr>
<tr>
		<td>
				<h4>Cardiopulmonary: </h4>
				<table class="checkboxGroup">
					<tr id="checkboxAll">
						<td class="nested-td">
							<obs field="CP_noComplaint" conceptId="1071" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
						<obsgroup groupingConceptId="143264">
						<td class="enableDisable">
							<div id="trigger">
								<obs field="CP_cough" conceptId="1071" answerConceptId="143264" answerLabel="Cough" style="checkbox"/>
							</div>
							<div id="disabled" class="secondary">
								<span class="duration">
									Duration: <obs field="CP_coughDuration" conceptId="1731"/><obs field="CP_coughDuration" conceptId="1732" answerConceptIds="1822,1072,1073,1074,1734" />
								</span>

								<div class="enableDisable">
									<div id="trigger">
										<obs field="CP_productiveCough" conceptId="1071" answerConceptId="5957" answerLabel="Productive Cough" style="checkbox"/>
									</div>
									<div id="disabled" class="secondary">
										<obs field="CP_productiveCoughIsWhite" conceptId="5958" labelText="Quality: " answerConceptId="1075" answerLabel="White"/>
										<obs field="CP_productiveCoughIsPurulent" conceptId="5958" answerConceptId="1076" answerLabel="Purulent"/>
										<obs field="CP_productiveCoughIsBlood" conceptId="5958" answerConceptId="1077" answerLabel="Blood"/>
									</div>
								</div>
							</div>
						</td>
						</obsgroup>
						<obsgroup groupingConceptId="141600">
						<td class="enableDisable">
							<div id="trigger">
								<obs field="CP_short" conceptId="1071" answerConceptId="141600" answerLabel="Shortness of breath" style="checkbox"/>
							</div>
							<div id="disabled">
								<div class="secondary">
									<obs field="CP_shortRest" conceptId="1071" answerConceptId="5961" answerLabel="At rest" style="checkbox"/>
									<obs field="CP_shortExert" conceptId="1071" answerConceptId="5973" answerLabel="On exertion" style="checkbox"/>
								</div>
								<div class="secondary">
									<span class="duration">
										Duration: <obs field="CP_shortDuration" conceptId="1731"/><obs field="CP_shortDurationUnits" conceptId="5962" answerConceptIds="1822,1072,1073,1074,1734" />
									</span>
								</div>
							</div>
						</td>
						</obsgroup>
					</tr>
					<tr id="checkboxCheckbox">
						<obsgroup groupingConceptId="120749">
						<td class="enableDisable" colspan="2">
							<div id="trigger"><obs field="CP_chestPain" conceptId="1071" answerConceptId="120749" answerLabel="Chest pain" style="checkbox"/></div>
							<table id="disabled" class="secondary">
								<tr>
									<td class="nested-td">
										<obs field="CP_chestPainRest" conceptId="1071" answerConceptId="155495" answerLabel="At rest" style="checkbox"/>
									</td>
									<td class="nested-td">
										<obs field="CP_chestPainExert" conceptId="1071" answerConceptId="153514" answerLabel="On exertion" style="checkbox"/>
									</td>
								</tr>
								<tr>
									<td class="nested-label">
										Duration: 
									</td>
									<td class="nested-td" colspan="3">
										<span class="duration">
											<obs field="CP_chestPainDuration" conceptId="1731"/><obs field="CP_chestPainDurationUnits" conceptId="5971" answerConceptIds="1822,1072,1073,1074,1734" />
										</span>
									</td>
								</tr>
								<tr>
									<td class="nested-label">
										Location: 
									</td>
									<td class="nested-td">	
										<obs field="CP_chestSub" conceptId="5976" answerConceptId="5963" answerLabel="Substernal"/>
									</td>
									<td class="nested-td">			
										<obs field="CP_chestLeft" conceptId="5976" answerConceptId="5139" answerLabel="Left"/>
									</td>
									<td class="nested-td">			
										<obs field="CP_chestRight" conceptId="5976" answerConceptId="5141" answerLabel="Right"/>
									</td>
									<td class="nested-td">	
										<obs field="CP_chestAnterior" conceptId="5976" answerConceptId="540" answerLabel="Anterior"/>
									</td>
									<td class="nested-td">	
										<obs field="CP_chestPosterior" conceptId="5976" answerConceptId="541" answerLabel="Posterior"/>
									</td>
								</tr>

								<tr>
									<td class="nested-label">
										Quality: 
									</td>
									<td class="nested-td">	
										<obs field="CP_chestPleuritic" conceptId="909" answerConceptId="5972" answerLabel="Pleuritic"/>
									</td>
									<td class="nested-td">	
										<obs field="CP_chestSharp" conceptId="909" answerConceptId="762" answerLabel="Sharp"/>
									</td>
									<td class="nested-td">	
										<obs field="CP_chestPressure" conceptId="909" answerConceptId="705" answerLabel="Pressure"/>
									</td>
									<td class="nested-td">	
										<obs field="CP_chestBurning" conceptId="909" answerConceptId="146625" answerLabel="Burning"/>
									</td>
									<td class="enableDisable">
										<div id="trigger">
											<obs field="CP_chestRadiating" conceptId="909" answerConceptId="127949" answerLabel="Radiating"/>
										</div>
										<div id="disabled" class="secondary">
											<obs field="CP_chestRadiatingType" conceptId="909" answerConceptIds="5168,5169" answerLabels="Radiates to neck, Radiates to axilla"/>
										</div>	
									</td>
								</tr>
							</table>
						</td>
						</obsgroup>
					</tr>
					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="CP_history" conceptId="1071" answerConceptId="664" answerLabel="History of pneumonia (past 2 years)" style="checkbox"/>
						</td>
					</tr>
<tr>
	<td class="enableDisable">
		<div id="trigger">
			<obs field="CP_rb" conceptId="1071" answerConceptId="1188" answerLabel="Rapid Breathing" style="checkbox"/>
		</div>
		<div id="disabled" class="secondary">
			<span class="duration">
				Duration: <obs field="CP_rbu" conceptId="1731"/><obs field="CP_rbud" conceptId="1732" answerConceptIds="1072,1073,1074,1734" />
			</span>
		</div>
	</td>
</tr>
				</table>
				Comments: 
				<div class="secondary"><obs field="CP_secondaryWhatIsThisField" id="CP_secondaryWhatIsThisField" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
			</td>
			<td class="checkboxGroup">
				<h4>Musculoskeletal: </h4>
				<table class="checkboxGroup">
					<tr id="checkboxAll">
						<td class="nested-td">
							<obs field="MS_noComplaints" conceptId="1081" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="MS_joint" conceptId="1081" answerConceptId="80" answerLabel="Joint pains" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="MS_swelling" conceptId="1081" answerConceptId="5312" answerLabel="Swelling of joints" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="MS_edema" conceptId="1081" answerConceptId="590" answerLabel="Edema of legs" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="MS_pain" conceptId="1081" answerConceptId="133632" answerLabel="Muscle pain" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="MS_painLegs" conceptId="1081" answerConceptId="6035" answerLabel="Pain in legs / feet" style="checkbox"/>
						</td>
					</tr>
				</table>
				<br/>
				Comments: 
				<div class="secondary"><obs field="MS_comments" id="MS_comments" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
			</td>
		</tr>
		<tr>
			<td class="checkboxGroup">
				<h4>Central Nervous System: </h4>
				<table class="checkboxGroup">
					<tr id="checkboxAll">
						<td class="nested-td">
							<obs field="CNS_nc" conceptId="1082" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="CNS_pares" conceptId="1082" answerConceptId="6004" answerLabel="Paresthesia" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="CNS_fw" conceptId="1082" answerConceptId="6005" answerLabel="Focal weakness" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="CNS_se" conceptId="1082" answerConceptId="206" answerLabel="Seizures" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="CNS_h" conceptId="1082" answerConceptId="139084" answerLabel="Headache" style="checkbox"/>
						</td>
					</tr>
				</table>
				<br/>
				Comments: 
				<div class="secondary"><obs field="CNS_comments" id="CNS_comments" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
			</td>
			<td>
				<h4>Psychiatric</h4>
				<table class="checkboxGroup">
					<tr id="checkboxAll">
						<td class="nested-td">
							<obs field="PSY_nc" conceptId="159891" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="PSY_dep" conceptId="159891" answerConceptId="119537" answerLabel="Depression" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="PSY_conf" conceptId="159891" answerConceptId="120345" answerLabel="Confusion" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="PSY_mem" conceptId="159891" answerConceptId="6037" answerLabel="Memory problems" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="PSY_mi" conceptId="159891" answerConceptId="77" answerLabel="Mental illness" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="PSY_anx" conceptId="159891" answerConceptId="121543" answerLabel="Anxiety" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="PSY_psych" conceptId="159891" answerConceptId="113517" answerLabel="Psychosis" style="checkbox"/>
						</td>
					</tr>
				</table>
				<br/>
				Comments: 
				<div class="secondary"><obs field="PSY_comments" id="PSY_comments" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<h4>Developmental</h4>
				<table class="checkboxGroup" style="width:auto;">
					<tr id="checkboxAll">
						<td class="nested-td">
							<obs field="DEV_nc" conceptId="159891" answerConceptId="664" answerLabel="No complaints" style="checkbox"/>
						</td>
					</tr>
					<tr id="checkboxCheckbox">
						<td class="nested-td">
							<obs field="DEV_dm" conceptId="1189" answerConceptId="6022" answerLabel="Delayed milestones" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="DEV_rm" conceptId="1189" answerConceptId="6025" answerLabel="Regressed milestones" style="checkbox"/>
						</td>
						<td class="nested-td">
							<obs field="DEV_loep" conceptId="1189" answerConceptId="5550" answerLabel="Learning or educational problems" style="checkbox"/>
						</td>
					</tr>
				</table>
				<br/>
				Comments: 
				<div class="secondary"><obs field="DEV_comments" id="DEV_comments" conceptId="161011" style="textarea" rows="5" cols="50"/></div>
			</td>
		</tr>
	</table>
	</section>
</span>

	<span id="S5">
	<section headerLabel="Current Medications">
		<table>
			<tr>
				<td>
					<obs field="currentmedications" labelText="" style="textarea" cols="150" conceptId="1354" />
				</td>
			</tr>
		</table>
		</section>
	</span>

	<span id="S6">
	<section headerLabel="Vaccinations">
<table>
	<tr>
		<td class="enableDisable" id="vac_uptodate">
			Is the child's vaccinations up to date?
			<obs id="vac_button_trigger" field="vac_update" conceptId="5585" answerConceptIds="1065,1066,1067" answerLabels="Yes,No,Unknown" style="radio"/>
			<br />
			<span class="secondary" id="vac_evervac"> 
				Has the child ever been vaccinated?
				<obs id="vac_button_triggered" field="vac_ever" conceptId="5853" answerConceptIds="1065,1066,1067" answerLabels="Yes,No,Unknown" style="radio" />
			</span>
		</td>
	</tr>
	<tr>
		<td id="nested-td">
			Comments: <obs field="vac_comments" conceptId="161011"/>
		</td>
	</tr>
</table>	</section>
</span>
		<span id="S9">
	<section headerLabel="PHYSICAL EXAM">
	<h4>Vitals</h4>
	<table>
		<includeIf velocityTest="20 >= $patient.age">
		<tr>
			<td colspan="2">
				<a href="javascript:openGrowthChart()">Get Growth Chart</a>
			</td>
		</tr>
		</includeIf>
		<tr>
			<td>
				<table id="two-wide">
					<tr>
						<td class="nested-label">
							BP
						</td>
						<td class="nested-td">
							<obs field="SH_bloodp" conceptId="5085"/> / <obs field="sh_bp2" conceptId="5086"/>
						</td>
					</tr>
					<tr>
						<td class="nested-label">
							Pulse
						</td>
						<td class="nested-td">
							<obs field="SH_pulse" conceptId="5087"/> rate/min
					       	</td>
					</tr>
					<tr>
						<td class="nested-label">
							Resp Rate
						</td>
						<td class="nested-td">
							<obs field="SH_resprate" conceptId="5242"/>
						</td>
					</tr>
					<tr>
						<td class="nested-label">Temp</td><td class="nested-td"><obs field="SH_temp" conceptId="5088"></obs> [C&#176;]</td>
					</tr>
					<tr>
						<td class="nested-label">Level of consciousness:</td><td class="nested-td"><obs field="SH_consciousness" answerConceptIds="1066,1067,1065" answerLabels="Alert,Unknown,Impaired" conceptId="110434" style="checkbox"></obs></td>
					</tr>
					
					
				</table>
				</td><td>

				
				<table id="two-wide">
					<tr>
						<td class="nested-label">Spo2</td><td class="nested-td"><obs field="SH_spo2" conceptId="5092"> </obs> % </td>
					</tr>
					<tr>
<td class="nested-label">Wt</td><td class="nested-td"><obs field="SH_wt" conceptId="5089"> </obs> kg</td>
					</tr>
					<tr>
						<td class="nested-label">Height</td><td class="nested-td"><obs field="SH_ht" conceptId="5090"> </obs> cm </td>
					</tr>
					<tr>
						<td class="nested-label">Head Circ</td><td class="nested-td"><obs field="SH_hcirc" conceptId="5314"/> cm</td>
					</tr>
					<tr><td class="nested-label">Glasgow Coma Scale</td><td class="nested-td"><obs field="SH_gcomas" conceptId="160347"> </obs></td>

					</tr>
				</table>

			</td>
		</tr>
		<tr>
			<td colspan="2">
				<obs field="SH_gfy" conceptId="1628"  label="FTT (failure to thrive)" answerConceptId="156436"  style="checkbox"/>
				 (If yes, refer to nutritionist)
			</td>
		</tr>

</table>


	<hr />
	<table id="two-wide">
		<tr>
			<td>
				<h4>General Exam</h4>
				<table class="inner-table">
					<tr>
						<td class="nested-td">
							<obs field="SKIN_TW" answerConceptId="5201" conceptId="1119" style="checkbox" answerLabel="Temporal wasting"/> 
						</td>
					
						<td class="nested-td">
							<obs field="SH_pallor" answerConceptId="5245" conceptId="1119" style="checkbox" answerLabel="Pallor"/>
						</td>

						<td class="nested-td">
							<obs field="SH_jaundice" answerConceptId="136443" conceptId="1119" style="checkbox" answerLabel="Jaundice"/>
						</td>
</tr>
<tr>
						<td class="enableDisable">
							<div id="trigger">
								<obs field="SH_abuse" answerConceptId="159890" conceptId="1119" style="checkbox" answerLabel="Signs of physical abuse"/>
							</div>
							<div id="disabled" class="secondary">
								Specify:
								<br/><obs field="SH_spcicfy" id="SH_spcicfy" conceptId="161011" style="textarea" rows="3" cols="35"/>
							</div>
						</td>
					</tr>
				</table>
				<br/>
				Comments: <div class="secondary"><obs field="SH_comments" id="SH_comments" conceptId="161011"  style="textarea" rows="5" cols="50"></obs></div>
			</td>
			<td class="checkboxGroup" style="width:50%;">
				<h4>Skin</h4>
				<span id="checkboxAll"><obs field="SKIN_normal" answerConceptId="1115" conceptId="1120" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="SKIN_abnormal" answerConceptId="1116" conceptId="1120" style="checkbox" answerLabel="Abnormal"> </obs></span>
					<span id="disabled">
						<span id="checkboxCheckbox" class="enableDisable">
							<span id="trigger"><obs field="SKIN_rash" answerConceptId="512" conceptId="1120" style="checkbox" answerLabel="Rash"> </obs>
							</span>
							<span id="disabled">
								<obs field="SKIN_rashType" answerConceptIds="522,520,521,128047,123198,118731,123468,160639" conceptId="1120" style="checkbox" answerLabels="Maculopapular,Macule(s),Papule(s),Pustules,Vesicle,Eczema,Urticaria,Bulla(e)"> </obs>
							</span>
						</span>
						<obs field="SKIN_kap" answerConceptId="507" conceptId="1120" style="checkbox" answerLabel="Kaposi sarcoma"> </obs> 		
<obs field="SKIN_ulcer" answerConceptId="112934" conceptId="1120" style="checkbox" answerLabel="Ulcer"> </obs>						
					</span>
				</span>
				<br /><br />Comments: <div class="secondary"><obs field="SKIN_comments" id="SKIN_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
		</tr>
		<tr>
			<td class="checkboxGroup" style="border-style:none;">
				<h4>Lymph Nodes</h4>
				<span id="checkboxAll"><obs field="LN_normal" answerConceptId="1066" conceptId="160607" style="checkbox" answerLabel="Not Palpable"> </obs></span>
<span id="checkboxAll"> <obs field="LNUNKW" answerConceptId="1067" conceptId="160607" style="checkbox" answerLabel="Unknown"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="LN_abnormal" answerConceptId="1065" conceptId="160607" style="checkbox" answerLabel="Palpable"> </obs></span><br/>
					<span id="disabled">
						<obs field="LN_sub" answerConceptId="504" conceptId="1121" style="checkbox" answerLabel="submandibular"> </obs>
						<obs field="LN_cerv" answerConceptId="643" conceptId="1121" style="checkbox" answerLabel="cervical"> </obs>
						<obs field="LN_ingui" answerConceptId="506" conceptId="1121" style="checkbox" answerLabel="inguinal"> </obs>
						<obs field="LN_supra" answerConceptId="505" conceptId="1121" style="checkbox" answerLabel="supraclavicular"> </obs>
						<obs field="LN_axil" answerConceptId="5112" conceptId="1121" style="checkbox" answerLabel="axillary"> </obs>
						<obs field="LN_epit" answerConceptId="160679" conceptId="1121" style="checkbox" answerLabel="epitrochlear"> </obs>
<br/>
Characteristic: <obs field="LYMPH_1" conceptId="160398" answerConceptIds="160405,160399,160400,160401" answerLabels="Soft,Firm,Rubbery,Hard" style="radio"/> 
<br/>
Mobility: <obs field="LYMPH_5" conceptId="160378" answerConceptIds="160376,160377" answerLabels="Fixed,Mobile" style="radio"/> 
					</span>
				</span><br />
				Comments: <div class="secondary"><obs field="LN_comments" id="LN_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
			<td class="checkboxGroup"  style="width:50%;">
				<h4>HEENT</h4>
				<span id="checkboxAll"><obs field="PEHEENT_normal" answerConceptId="1115" conceptId="1122" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="PEHEENT_abnormal" answerConceptId="1116" conceptId="1122" style="checkbox" answerLabel="Abnormal"> </obs></span>
					<span id="disabled">
						<br />
						<b>Eyes:</b>
						<obs field="PEHEENT_sclera" answerConceptId="5192" conceptId="1122" style="checkbox" answerLabel="Sclera icteric"> </obs>
						<obs field="PEHEENT_conjunct" answerConceptId="516" conceptId="1122" style="checkbox" answerLabel="Conjunctiva pale"> </obs>
						<obs field="PEHEENT_fundal" answerConceptId="518" conceptId="1122" style="checkbox" answerLabel="Fundal abnormality"> </obs>
						<br />
						<b>Ears:</b>
						<obs field="PEHEENT_cerumen" answerConceptId="530" conceptId="1122" style="checkbox" answerLabel="Cerumen impaction"> </obs>
						<obs field="PEHEENT_tm" answerConceptId="948" conceptId="1122" style="checkbox" answerLabel="TM injected"> </obs>
						<br />
						<b>Neck:</b>
						<obs field="PEHEENT_trachea" answerConceptId="513" conceptId="1122" style="checkbox" answerLabel="Trachea deviated"> </obs>
						<obs field="PEHEENT_nuchal" answerConceptId="5170" conceptId="1122" style="checkbox" answerLabel="Nuchal rigidity"> </obs>
						<br />
						<b>Oropharynx:</b>
						<obs field="PEHEENT_thrush" answerConceptId="5334" conceptId="1122" style="checkbox" answerLabel="Thrush"> </obs>
						<obs field="PEHEENT_kaposi_sarcoma" answerConceptId="644" conceptId="1122" style="checkbox" answerLabel="Kaposi Sarcoma"> </obs>
						<obs field="PEHEENT_poor" answerConceptId="147999" conceptId="1122" style="checkbox" answerLabel="Poor dentition"> </obs>
                                                <obs field="PEHEENT_ulcers" answerConceptId="160614" conceptId="1122" style="checkbox" answerLabel="Ulcers and rash"> </obs><br /><b>Tonsils: </b>
                                                <obs field="PEHEENT_enlarged" answerConceptId="536" conceptId="1122" style="checkbox" answerLabel="Enlarged" />
                                                 <obs field="PEHEENT_erythe" answerConceptId="535" conceptId="1122" style="checkbox" answerLabel="Erythematous" />
                                                 <obs field="PEHEENT_exudate" answerConceptId="537" conceptId="1122" style="checkbox" answerLabel="Exudate" />



						<br />	
					</span>
				</span><br />
				Comments: <div class="secondary"><obs field="PEHEENT_comments" id="PEHEENT_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
		</tr>
		<tr>
			<td class="checkboxGroup" style="width:50%;">
				<h4>Chest</h4>
				<span id="checkboxAll"><obs field="CHEST_normal" answerConceptId="1115" conceptId="1123" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="CHEST_abnormal" answerConceptId="1116" conceptId="1123" style="checkbox" answerLabel="Abnormal"> </obs></span>
					<span id="disabled">
						<br />
						<b>Percussion:</b>
						<obs field="CHEST_dull" answerConceptId="5138" conceptId="1123" style="checkbox" answerLabel="Dullness"> </obs>
						<br />
                                                <b>Accessory Muscle Use:</b>
					        <obs field="CHEST_amu" answerConceptId="159441" conceptId="1123" style="checkbox" answerLabel="Accessory Muscle Use"> </obs>
						<br />
						<b>Auscultation:</b>
						<obs field="CHEST_diminished" answerConceptId="5115" conceptId="1123" style="checkbox" answerLabel="Breath sounds diminished"> </obs>
						<obs field="CHEST_bronchial" answerConceptId="5116" conceptId="1123" style="checkbox" answerLabel="Bronchial breath sounds"> </obs>
						<obs field="CHEST_ronchi" answerConceptId="5181" conceptId="1123" style="checkbox" answerLabel="Rhonchi"> </obs>
<br/>
						<obs field="CHEST_wheezes" answerConceptId="5209" conceptId="1123" style="checkbox" answerLabel="Wheezes"> </obs>
						<obs field="CHEST_crepitations" answerConceptId="5127" conceptId="1123" style="checkbox" answerLabel="Crepitations"> </obs>
<br/><b>Lung Finding:</b>
<obs field="CHEST_LUNGfinding" conceptId="159370" answerConceptIds="5120,5132,639,5119,5134,5141,5139,160406" answerLabels="Right middle lobe,left upper lobe,Right lower lobe,Right upper lobe,Left lower lobe,Right,Left,Bilateral" style="dropdown"/>						<br />
					</span>
				</span>
				<br />
				Comments: <div class="secondary"><obs field="CHEST_comments" id="CHEST_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
			<td class="checkboxGroup" style="width:50%;">
				<h4>Heart</h4>
				<span id="checkboxAll"><obs field="HEART_normal" answerConceptId="1115" conceptId="1124" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="HEART_abnormal" answerConceptId="1116" conceptId="1124" style="checkbox" answerLabel="Abnormal"> </obs></span>
					<span id="disabled">
						<br />
						<span id="checkboxCheckbox" class="enableDisable">
							<span id="trigger"><obs field="HEART_evidence" answerConceptId="5158" conceptId="1124" style="checkbox" answerLabel="Evidence for enlargement:"> </obs></span>
							<span id="disabled">
								<obs field="HEART_lv" answerConceptId="5156" conceptId="1124" style="checkbox" answerLabel="LV lift"> </obs>
								<obs field="HEART_rv" answerConceptId="5157" conceptId="1124" style="checkbox" answerLabel="RV lift"> </obs>
								<br />
							</span>
						</span>
						<span id="checkboxCheckbox" class="enableDisable">
							<span id="trigger"><obs field="HEART_sounds" answerConceptId="1117" conceptId="1124" style="checkbox" answerLabel="Abnormal Sounds:"> </obs></span>
							<span id="disabled">
								<obs field="HEART_s3" answerConceptId="550" conceptId="1124" style="checkbox" answerLabel="S3"> </obs>
								<obs field="HEART_s4" answerConceptId="551" conceptId="1124" style="checkbox" answerLabel="S4"> </obs>
								<obs field="HEART_friction" answerConceptId="130560" conceptId="1124" style="checkbox" answerLabel="Pericardial friction rub"> </obs>
								<br />
							</span>
						</span>
						<span id="checkboxCheckbox" class="enableDisable">
							<span id="trigger"><obs field="HEART_murmurs" answerConceptId="139063" conceptId="1124" style="checkbox" answerLabel="Murmurs:"> </obs></span>
							<span id="disabled">
								<obs field="HEART_systolic" answerConceptId="5166" conceptId="1124" style="checkbox" answerLabel="Systolic Ejection Murmur"> </obs>
								<obs field="HEART_holosystolic" answerConceptId="5162" conceptId="1124" style="checkbox" answerLabel="Holosystolic Murmur"> </obs>
								<obs field="HEART_diastolicDecrescendo" answerConceptId="5160" conceptId="1124" style="checkbox" answerLabel="Diastolic Decrescendo"> </obs>
								<obs field="HEART_rumble" answerConceptId="5164" conceptId="1124" style="checkbox" answerLabel="Diastolic Rumble"> </obs><br />
								<br />
							</span>
						</span>
					</span>
				</span>
				<br />
				Comments: <div class="secondary"><obs field="HEART_comments" id="HEART_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>

		</tr>
		<tr>
			<td class="checkboxGroup" style="width:50%;">
				<h4>Abdomen</h4>
				<span id="checkboxAll"><obs field="ABDOMEN_normal" answerConceptId="1115" conceptId="1125" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="ABDOMEN_abnormal" answerConceptId="1116" conceptId="1125" style="checkbox" answerLabel="Abnormal"> </obs></span>
					<span id="disabled">
						<br />
						Tender to palpation: <obs field="ABDOENTENDER" conceptId="1125" style="dropdown" answerConceptIds="160380,5104,5107,160381,5099,575,140070,124998" answerLabels="Left upper quadrant,Left lower quadrant,Right upper quadrant,Right lower quadrant,Epigastric,Suprapubic,Flank pain,Periumbilical"/><br/>
						<obs field="ABDOMEN_ascites" answerConceptId="148346" conceptId="1125" style="checkbox" answerLabel="Ascites"> </obs>
						<obs field="ABDOMEN_mass" answerConceptId="5103" conceptId="1125" style="checkbox" answerLabel="Mass"> </obs>
						<span id="checkboxCheckbox" class="enableDisable">
							<span id="trigger"><obs field="ABDOMEN_hepatome" answerConceptId="5008" conceptId="1125" style="checkbox" answerLabel="Hepatomegaly"> </obs></span>
							<span id="disabled">
								<obs field="ABDOMEN_cmbelow" conceptId="159447"> </obs>(cm below costal margin)
								<br />
							</span>
						</span>
						<span id="checkboxCheckbox" class="enableDisable">
							<span id="trigger"><obs field="ABDOMEN_splenomegaly" answerConceptId="5009" conceptId="1125" style="checkbox" answerLabel="Splenomegaly"> </obs></span>
							<span id="disabled">
								<obs field="ABDOMEN_cmbelowsplen" conceptId="159448"> </obs>(cm below costal margin)
								<br />
							</span>
						</span>

					</span>
				</span>
				<br />Comments: <div class="secondary"><obs field="abdomen_comments" id="abdomen_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
			
		</tr>
		<tr>
			<td class="checkboxGroup" style="width:50%;">
				<h4>Extremities</h4>
				<span id="checkboxAll"><obs field="EXT_normal" answerConceptId="1115" conceptId="1127" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="EXT_abnormal" answerConceptId="1116" conceptId="1127" style="checkbox" answerLabel="Abnormal"> </obs></span>
					<span id="disabled">
						<obs field="EXT_edema" answerConceptId="590" conceptId="1127" style="checkbox" answerLabel="Edema"></obs>
						<obs field="EXT_leg" answerConceptId="111725" conceptId="1127" style="checkbox" answerLabel="Leg Ulcers"></obs>
						<obs field="EXT_cell" answerConceptId="134" conceptId="1127" style="checkbox" answerLabel="Cellulitis"> </obs>
						<obs field="EXT_kaposi" answerConceptId="507" conceptId="1127" style="checkbox" answerLabel="Kaposi sarcoma"></obs>
					</span>
				</span>
				<br /><br />Comments:  <div class="secondary"><obs field="EXT_comments" id="EXT_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
			<td style="width:50%;" class="checkboxGroup">
				<h4>Musculoskeletal</h4>
				<span id="checkboxAll"><obs conceptId="1128" answerConceptId="1115" style="checkbox" answerLabel="Normal" field="MS21"/></span>
				<span id="checkboxCheckbox"><obs conceptId="1128" answerConceptId="1116" style="checkbox" answerLabel="Abnormal" field="MS22"/>
				<obs conceptId="1128" answerConceptId="5312" style="checkbox" answerLabel="Joint Swelling" field="MS23"/>
				<obs conceptId="1128" answerConceptId="5313" style="checkbox" answerLabel="Muscle Tenderness" field="MS24"/></span>
				<br /><br />Comments:  <div class="secondary"><obs field="MS2_comment" id="MS2_comment" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
		</tr>
		<tr>
			<td class="checkboxGroup" style="width:50%;">
				<h4>Neurologic</h4>
				<span id="checkboxAll"><obs field="NL2_normal" answerConceptId="1115" conceptId="1129" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="NL2_abnormal" answerConceptId="1116" conceptId="1129" style="checkbox" answerLabel="Abnormal"> </obs></span>
					<span id="disabled">
						<obs field="NL2_cranial" answerConceptId="599" conceptId="1129" style="checkbox" answerLabel="Cranial nerve abnormality"></obs>
						<obs field="NL2_lower" answerConceptId="5135" conceptId="1129" style="checkbox" answerLabel="Decreased sensation in extremities"></obs>
						<obs field="NL2_gait" answerConceptId="5108" conceptId="1129" style="checkbox" answerLabel="Abnormal gait"> </obs>
						<obs field="NL2_focal" answerConceptId="6005" conceptId="1129" style="checkbox" answerLabel="Focal weakness"> </obs>
					</span>
				</span><br /><br />Comments:   <div class="secondary"><obs field="NL2_comments" id="NL2_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
				<td class="checkboxGroup" style="width:50%;">
				<h4>Psychiatric</h4>
				<span id="checkboxAll"><obs field="PSYCH_normal" answerConceptId="1115" conceptId="1130" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="PSYCH_abnormal" answerConceptId="1116" conceptId="1130" style="checkbox" answerLabel="Abnormal"> </obs></span>


					<span id="disabled">
						<obs field="PSYCH_depressed" answerConceptId="119537" conceptId="1130" style="checkbox" answerLabel="Depressed"></obs>
						<obs field="PSYCH_confused" answerConceptId="120345" conceptId="1130" style="checkbox" answerLabel="Confused"> </obs>
<obs field="PSYCH_psychosis" answerConceptId="113517" conceptId="1130" style="checkbox" answerLabel="Psychosis"> </obs>
<obs field="PSYCH_anxiety" answerConceptId="121543" conceptId="1130" style="checkbox" answerLabel="Anxiety"> </obs>
<obs field="PSYCH_manic" answerConceptId="115926" conceptId="1130" style="checkbox" answerLabel="Manic"> </obs>
<obs field="PSYCH_suicidal" answerConceptId="158978" conceptId="1130" style="checkbox" answerLabel="Suicidal"> </obs>
					</span>
				</span>
				<br /><br />Comments:  <div class="secondary"><obs field="PSYCH_comments" id="PSYCH_comments" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
		</tr>
		<tr>
			<td class="checkboxGroup" colspan="2">
				<h4>Developmental</h4>
				<span id="checkboxAll"><obs field="DEV_normal" answerConceptId="1115" conceptId="1200" style="checkbox" answerLabel="Normal"> </obs></span>
				<span id="checkboxCheckbox" class="enableDisable">
					<span id="trigger"><obs field="DEV_ab" answerConceptId="1116" conceptId="1200" style="checkbox" answerLabel="Abnormal"> </obs></span>
					<div id="disabled" class="secondary">
						<table>
							<tr>
								<td class="nested-td" colspan="2">
									<obs field="DEV_dnmaam" conceptId="1200" answerConceptId="6022" answerLabel="Does not meet age appropriate milestones" style="checkbox"/>
								</td>
							</tr>
							<tr>
								<td class="nested-label">
									Tanner staging:
								</td>
								<td class="nested-td">
									<obs field="DEV_tanner" conceptId="5310" answerConceptIds="1115,1116,1118" answerLabels="Normal,Abnormal,Not Done" style="radio"/>
								</td>
							</tr>
							<tr class="secondary">
								<td class="nested-label">
									Stage:
								</td>
								<td class="nested-td">
									<obs field="DEV_stage" conceptId="5311"/>
								</td>
							</tr>
						</table>
					</div>
				</span><br /><br />Comments:   <div class="secondary"><obs field="DEV_comment" id="DEV_comment" conceptId="161011" style="textarea" rows="5" cols="50"></obs></div>
			</td>
		</tr>
	</table>
	</section>
</span>

<span id="TestResults">

<section headerLabel="External Test Results ">
	<table>
		<tr>

<td>
<h4> External Lab Results</h4><repeat>
				<template>
 				<table>
					<tr id="{n}-toggleContainer" style="display:none;">
					
							<td class="nested-td">
<obs id="{n}-list" field="LAB_{n}" conceptId="1271" answerClasses="KMRI_Labs" showCommentField="true" commentFieldLabel="Results of Lab Test" style="dropdown"/>
							</td>
							<td class="nested-td"><button id="{n}-addEntry" class="addEntry">Add</button><button id="{n}-removeEntry" class="removeEntry">Remove</button></td>
						</tr>
					</table>
				</template>
                                <render n="201"/>
				<render n="202"/>
				<render n="203"/>
				<render n="204"/>
				<render n="205"/>
				<render n="206"/>
				<render n="207"/>
				<render n="208"/>
				<render n="209"/>
				<render n="210"/>
				</repeat></td>

</tr>

<tr>
<td>
<h4> External Ultrasound Results</h4><repeat>
				<template>
 				<table>
				    <tr id="{n}-toggleContainer" style="display:none;">
							<td class="nested-td">
<obs id="{n}-list" field="ULTRA1_{n}" conceptId="1271" answerConceptIds="845,161291,852,159618,161283,161282,161278,161285,161274,161276,161275,161277,161288,161289,161290,161279,161284,161286,161287" answerLabels="Abdomen, Abdomen (Limited), Liver, Obstetric, Pelvis, Pelvis (Limited), Pelvis (Transvaginal), Head and Neck, Bilateral Lower Extremity Veins, Left Lower Extremity Veins, Right Lower Extremity Veins, Extremity, Chest, Left Breast, Right Breast, Scrotum and Testicle, Guided Paracentesis, Aspiration and Pericardial Space, Percutaneous Drainage of Cavity" showCommentField="true" commentFieldLabel="Results of Ultrasound" style="dropdown"/>
							</td>
<td class="nested-td"><button id="{n}-addEntry" class="addEntry">Add</button><button id="{n}-removeEntry" class="removeEntry">Remove</button></td>
</tr>
					</table>
				</template>
                                <render n="301"/>
				<render n="302"/>
				<render n="303"/>
				<render n="304"/>
				<render n="305"/>
				<render n="306"/>
				<render n="307"/>
				<render n="308"/>
				<render n="309"/>
				<render n="310"/>
				</repeat></td>

</tr>


<tr>
<td>
<h4> External Radiology Results</h4><repeat>
				<template>
 				<table>
					<tr id="{n}-toggleContainer" style="display:none;">
					
							<td class="nested-td">
<obs id="{n}-list" field="RADIOLOGY1_{n}" conceptId="1271" answerConceptIds="161251,161272,161273,161294,161295,161296,161297,161298,161299,161300,161301,161302,161303,161304,161305,161306,161307,161308,161263,161264,161265,161266,161267,161268,161269,161270,161271,161317,161318,161319,161320,161321,161322,161323,161324,161325,161326,161327,161328,161329,161330,161331,161332,161333,161334,161335,161336,161337,161338,161339,161340,161341,161342,161343,161344,161345,161346,161347,161348,161349,161350,161351,161352" answerLabels="Chest (2 view PA/LAT),
Chest (4 view PA/LAT with right and left oblique),Chest (1 view AP),Chest (bilateral oblique),Chest (2 view and apical lordotic),Chest (apical lordotic),Chest (4 views),Left clavicle (2 view),Right clavicle (2 view),Bilateral clavicles (2 view),Cervical spine (2 or 3 view),Left elbow (2 view),Right elbow (2 view),Bilateral elbows (2 view),Facial bones (3 view),Left femur (2 view),Right femur (2 view),Bilateral femurs (2 view),Abdomen (1 view),Abdomen (2 view AP supine and lateral decubitus),Bilateral acromioclavicular joints,Left ankle (2 view),Right ankle (2 view),Bilateral ankles (2 view),Left calcaneus (2 view),Right calcaneus (2 view),Bilateral calcaneus (2 view),Right wrist (2 view),Left wrist (2 view),Retrograde Pyelogram,Thoracic spine (2 view),Left foot (2 view),Right foot (2 view),Bilateral feet (2 view),Left forearm (2 view),Right forearm (2 view) ,Bilateral forearms (2 view),Right lower leg (2 view),Left hand (2 view),Left lower leg (2 view),Right hand (2 view),Bilateral hands (2 view),Left hip (2 view),Right hip (2 view),Bilateral hips (2 view),Thoracic and lumbar spine (2 view),Spine (1 view),Left upper arm (2 view),Right upper arm (2 view),Skull (4 view),Bilateral upper arms (2 view),Sinuses (3 view),Right shoulder (2 view),Left shoulder (2 view),Right ribs (2 view),Left ribs (2 view),Pelvis (1 view),Mandible Panorex,Lumbar spine (2 or 3 view),Right knee (1 or 2 view) ,Left knee (1 or 2 view),Bilateral ribs (2 view),Bilateral knees (2 view)" showCommentField="true" commentFieldLabel="Results of Radiology" style="dropdown"/></td>
<td class="nested-td"><button id="{n}-addEntry" class="addEntry">Add</button><button id="{n}-removeEntry" class="removeEntry">Remove</button></td>
</tr>
					</table>
				</template>
                                <render n="501"/>
				<render n="502"/>
				<render n="503"/>
				<render n="504"/>
				<render n="505"/>
				<render n="506"/>
				<render n="507"/>
				<render n="508"/>
				<render n="509"/>
				<render n="510"/>
				</repeat></td>

</tr>
</table>
</section>
</span>

<span id="Referrals">

<section headerLabel="Referrals">

<table>
<tr>
<td>

					<h4>Referrals Made:</h4>

	<repeat>
				<template>
 				<table>
					<tr id="{n}-toggleContainer" style="display:none;">
					
							<td class="nested-td">
							Referral:<obs id="{n}-list" field="REFER_{n}" conceptId="1272" style="dropdown"/>
                                                        Location: <obs id="{n}-list" field="REFER_loc{n}" conceptId = "1272" answerClasses="KMRI_Locations" style="dropdown" showCommentField="true" />
							</td>
							<td class="nested-td"><button id="{n}-addEntry" class="addEntry">Add</button><button id="{n}-removeEntry" class="removeEntry">Remove</button></td>
						</tr>
					</table>
				</template>
                                <render n="101"/>
				<render n="102"/>
				<render n="103"/>
				<render n="104"/>
				<render n="105"/>
				<render n="106"/>
				<render n="107"/>
				<render n="108"/>
				<render n="109"/>
				<render n="110"/>
				</repeat>
</td>
			</tr>
		</table>
		</section>
</span>

<span id="S11">	
	<section headerLabel="Impressions">

<br />

<b>Reportable Diagnoses:</b>
            
<obsgroup groupingConceptId="161602">
				<repeat>
				<template>
 				<table>
					<tr id="{n}-toggleContainer" style="display:none;">
							<td class="nested-td">
							<obs id="{n}-list" field="REPDIAG_{n}" conceptId="1284" answerClasses="RequiredDiagnosis" showCommentField="true" style="dropdown"/>
							</td>
							<td class="nested-td"><button id="{n}-addEntry" class="addEntry">Add</button><button id="{n}-removeEntry" class="removeEntry">Remove</button></td>
						</tr>
					</table>
				</template>
				<render n="1"/>
				<render n="2"/>
				<render n="3"/>
				<render n="4"/>
				<render n="5"/>
				<render n="6"/>
				<render n="7"/>
				<render n="8"/>
				<render n="9"/>
				<render n="10"/>
				<render n="11"/>
				<render n="12"/>
				<render n="13"/>
				<render n="14"/>
				<render n="15"/>
				<render n="16"/>
				<render n="17"/>
				<render n="18"/>
				<render n="19"/>
				<render n="20"/>
				<render n="21"/>
				<render n="22"/>
				<render n="23"/>
				<render n="24"/>
				<render n="25"/>
				<render n="26"/>
				<render n="27"/>
				<render n="28"/>
				<render n="29"/>
				<render n="30"/>
				<render n="31"/>
				<render n="32"/>
				<render n="33"/>
				<render n="34"/>
				<render n="35"/>
				<render n="36"/>
				<render n="37"/>
				<render n="38"/>
				<render n="39"/>
				<render n="40"/>
				<render n="41"/>
				<render n="42"/>
				<render n="43"/>
				<render n="44"/>
				</repeat>
		</obsgroup>

<span id="test"> 

<b> Diagnoses: </b>
<repeat>
				<template>
 				<table>
					<tr id="{n}-toggleContainer" style="display:none;">
							<td class="nested-td">
							<obs id="{n}-list" field="DIAG_{n}" conceptId="1284" answerClasses="Diagnosis" showCommentField="true" style="autocomplete"/>
							</td>
							<td class="nested-td"><button id="{n}-addEntry" class="addEntry">Add</button><button id="{n}-removeEntry" class="removeEntry">Remove</button></td>
						</tr>
					</table>
				</template>
				<render n="401"/>
				<render n="402"/>
				<render n="403"/>
				<render n="404"/>
				<render n="405"/>
				<render n="406"/>
				<render n="407"/>
				<render n="408"/>
				<render n="409"/>
				<render n="410"/>

				</repeat>


</span>


        <div id="patid" style="display:none;"><lookup expression="patient.id"/></div> 
<br />
	Comments:  <div class="secondary"> <obs field="REPORTABLE_comments" id="REPORTABLE_comments" conceptId="161011"  style="textarea" rows="5" cols="50"></obs></div>		

	<br />

	<div>
		Next scheduled Appointment Date?
		<obs field="nextappointmentdate" id="nextappointmentdate" conceptId="5096" allowFutureDates="true"> </obs>
	</div>
	</section>

	</span>

<!-- Hidden concepts for add/remove sections -->
	<span id="testspan" style="display:none;">
		<obs field="ugh1" id="addedDiagnosisCount" conceptId="161649" />
                <obs field="ugh2" id="addedSurgeryCount" conceptId="161648" />
                <obs field="ugh3" id="addedReferralsCount" conceptId="161652"/>
                <obs field="ugh4" id="addedDiagCount" conceptId="161737"/>
                <obs field="ugh5" id="addedLabsCount" conceptId="161738"/>
                <obs field="ugh6" id="addedRadCount" conceptId="162006"/>
                <obs field="ugh7" id="addedUsCount" conceptId="161650"/>
	</span>

<script type="text/javascript">
$j(document).ready(function() {

	var applyAllRButtons = function (id, f) {
		var radio;

		if (!id)
			return;

		if (typeof(id) === "string" )
			radio = $j("#" + id);
		else
			radio = $j(id);

		if (!radio)
			return;

		radio.find("input[type$='radio']").each(function(i, e) {
			var je = $j(e);
			f(i, je);
		});
	}


	var bindAllonClick  = function(id, f) {
		applyAllRButtons(id, function(i, e) {e.click(f);});
	}

	var enableRadio = function (id) {
		applyAllRButtons(id, function(i, e) {e.attr("disabled",false);} );
	} 


	var disableRadio = function (id) {
		applyAllRButtons(id, function(i, e) {e.attr("disabled",true);} );
	} 


	var radioSetter = function (id, val) {
		applyAllRButtons(id, function(i, e) {
			e.attr("checked",false);
			if (e.val() == val)
				e.attr("checked",true);
		});
	} 

	var radioGetter = function (id) {
		var radio;

		if (!id)
			return;

		if (typeof(id) === "string" )
			radio = $j("#" + id);
		else
			radio = $j(id);

		if (!radio)
			return;

		return radio.find("input[type$='radio']:checked").val();
	}


	var trgBtn = $j("#vac_button_trigger");
	var trgedBtn = $j("#vac_button_triggered");


	disableRadio(trgedBtn);
	$j("#vac_evervac").fadeTo(250,0.33);
	radioSetter(trgedBtn, 0);
	radioSetter(trgBtn, 0);

	bindAllonClick(trgBtn, function(i, e){
		if (radioGetter(trgBtn) == 1065)  {
			disableRadio(trgedBtn);
			$j("#vac_evervac").fadeTo(250,0.33);
			radioSetter(trgedBtn, 0);
		} else {
			enableRadio(trgedBtn);
			radioSetter(trgedBtn, 0);
			$j("#vac_evervac").fadeTo(250,1);
		}
	});

	beforeSubmit.push(function () {

		var r1 = radioGetter(trgBtn);
		var r2;

		if (!r1) {
			getField('vac_button_trigger.error').html('Vaccination status is required.').show();
			return false;
		}

		if (r1 == 1065) {
			radioSetter(trgedBtn, 0);
			return true;
		}

		r2 = radioGetter(trgedBtn);

		if (!r2) {
			getField('vac_button_triggered.error').html('Vaccination status is required.').show();
			return false;
		}

		return true;
	});

});
</script>	<!-- TRAVIS' FUNCTION -->
<script type="text/javascript">
function openImpressions(){
var url = "/openmrs/module/impressions/impressionList.list\?nw=1\u0026patientId=" + document.getElementById('patid').innerHTML.trim();
window.open(url );
}

	if (jQuery){
	$j(document).ready(function() {
                //
                // find the count of the number of reported diagnoses that exist
                //		
                displayRows(addedDiagnosisCount,"addedDiagnosisCount.value",1);
                displayRows(addedSurgeryCount,"addedSurgeryCount.value",45);
                displayRows(addedReferralsCount,"addedReferralsCount.value",101);
                displayRows(addedLabsCount,"addedLabsCount.value",201);
                displayRows(addedDiagCount,"addedDiagCount.value",401);
                displayRows(addedUsCount,"addedUsCount.value",301);
                displayRows(addedRadCount,"addedRadCount.value",501);

	});
	}
</script>
    
        <ifMode mode="VIEW">
        <script type="text/javascript">
	if(jQuery){

		$j(document).ready(function(){
             // if this is in View, don't want any addEntry or remove Entry buttons 
                     for (i=1;600>=i;++i) {
                          $j('#' + i + '-removeEntry').toggle(false);
                          $j('#' + i + '-addEntry').toggle(false);
                     };
                 });
        };
        </script>
    </ifMode>

	<submit/>
	</htmlform>